(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{434:function(e,a,t){e.exports={LocaleTabsRenderer:"LocaleTabsRenderer___lco9i",Nav:"Nav___2pk0r",Nav__item:"Nav__item___15vPX",Nav__link:"Nav__link___31lg5",Nav__link_active:"Nav__link_active___1TORx",Tabs:"Tabs___3v_gg",Tabs__tab:"Tabs__tab___2tF13",Tabs__tab_active:"Tabs__tab_active___3_kms"}},440:function(e,a,t){"use strict";var n=t(0),l=t.n(n),c=t(5),r=t(21),o=t(8),s=t.n(o),i=t(67),_=t.n(i),u=t(240),b={tabs:s.a.bool,pills:s.a.bool,vertical:s.a.oneOfType([s.a.bool,s.a.string]),horizontal:s.a.string,justified:s.a.bool,fill:s.a.bool,navbar:s.a.bool,card:s.a.bool,tag:u.k,className:s.a.string,cssModule:s.a.object},m=function(e){var a=e.className,t=e.cssModule,n=e.tabs,o=e.pills,s=e.vertical,i=e.horizontal,b=e.justified,m=e.fill,d=e.navbar,v=e.card,f=e.tag,g=Object(r.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),E=Object(u.g)(_()(a,d?"navbar-nav":"nav",!!i&&"justify-content-"+i,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(s),{"nav-tabs":n,"card-header-tabs":v&&n,"nav-pills":o,"card-header-pills":v&&o,"nav-justified":b,"nav-fill":m}),t);return l.a.createElement(f,Object(c.a)({},g,{className:E}))};m.propTypes=b,m.defaultProps={tag:"ul",vertical:!1};var d=m,v={tag:u.k,active:s.a.bool,className:s.a.string,cssModule:s.a.object},f=function(e){var a=e.className,t=e.cssModule,n=e.active,o=e.tag,s=Object(r.a)(e,["className","cssModule","active","tag"]),i=Object(u.g)(_()(a,"nav-item",!!n&&"active"),t);return l.a.createElement(o,Object(c.a)({},s,{className:i}))};f.propTypes=v,f.defaultProps={tag:"li"};var g=f,E=t(14),N=t(401),p=l.a.createContext({}),T={tag:u.k,activeTab:s.a.any,className:s.a.string,cssModule:s.a.object},h=function(e){function a(a){var t;return(t=e.call(this,a)||this).state={activeTab:t.props.activeTab},t}return Object(E.a)(a,e),a.getDerivedStateFromProps=function(e,a){return a.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},a.prototype.render=function(){var e=this.props,a=e.className,t=e.cssModule,n=e.tag,r=Object(u.h)(this.props,Object.keys(T)),o=Object(u.g)(_()("tab-content",a),t);return l.a.createElement(p.Provider,{value:{activeTabId:this.state.activeTab}},l.a.createElement(n,Object(c.a)({},r,{className:o})))},a}(n.Component);Object(N.polyfill)(h);var k=h;h.propTypes=T,h.defaultProps={tag:"div"};var M={tag:u.k,className:s.a.string,cssModule:s.a.object,tabId:s.a.any};function j(e){var a=e.className,t=e.cssModule,n=e.tabId,o=e.tag,s=Object(r.a)(e,["className","cssModule","tabId","tag"]),i=function(e){return Object(u.g)(_()("tab-pane",a,{active:n===e}),t)};return l.a.createElement(p.Consumer,null,function(e){var a=e.activeTabId;return l.a.createElement(o,Object(c.a)({},s,{className:i(a)}))})}j.propTypes=M,j.defaultProps={tag:"div"};var O=t(434);a.a=function(e){var a=e.locales,t=e.renderLocaleTab;if(1===a.length)return t(a[0]);var l=Object(n.useState)(a[0].key),c=l[0],r=l[1];return n.createElement("div",{className:O.LocaleTabsRenderer},n.createElement(d,{tabs:!0,className:O.Nav},a.map(function(e){var a;return n.createElement(g,{key:e.key,className:O.Nav__item},n.createElement("a",{onClick:function(){return r(e.key)},className:_()(O.Nav__link,(a={},a[O.Nav__link_active]=c===e.key,a))},e.title))})),n.createElement(k,{activeTab:c,className:O.Tabs},a.map(function(e){var a;return n.createElement(j,{tabId:e.key,key:e.key,className:_()(O.Tabs__tab,(a={},a[O.Tabs__tab_active]=c===e.key,a))},t(e))})))}},692:function(e,a,t){e.exports={TableManager:"TableManager___1W9AK",TableManager__toolbar:"TableManager__toolbar___1UGjw",TableManager__table:"TableManager__table___228jY",buttonGroup:"buttonGroup___3XrYy",button:"button___2fGWg",button_active:"button_active___3YdBC"}},693:function(e,a,t){e.exports={Table:"Table___2B_K2",Table__actionColumn:"Table__actionColumn___1xgRb"}},694:function(e,a,t){e.exports={List:"List___34rAG",Item:"Item___3BRjR",Item__row:"Item__row___3oOmX",Item__cellName:"Item__cellName___74WLs",Item__cellValue:"Item__cellValue___3Xqb6",Item__toolbar:"Item__toolbar___29bk1"}},750:function(e,a,t){"use strict";t.r(a);var n,l=t(0),c=t(33),r=t(9),o=t(442),s=t(384),i=t(67),_=t.n(i);!function(e){e.INPUT="INPUT",e.IMAGE="IMAGE",e.TEXTAREA="TEXTAREA",e.IMAGE_GALLERY="IMAGE_GALLERY"}(n||(n={}));var u=t(68),b=t(692),m=t(751),d=(t(398),t(399),t(123),function(e){var a=e.toggleModal,t=e.isOpen,n=e.deleteRow;return l.createElement(m.a,{isOpen:t,size:"md",toggle:a,className:"Modal"},l.createElement("div",{className:_()("Modal__title","Modal__title_warning")},"Внимание!"),l.createElement("div",{className:"Modal__content"},"Вы уверены, что хотите удалить эту запись?",l.createElement("div",{className:"Modal__buttons"},l.createElement("button",{onClick:n,className:_()("button","button_warning")},"Удалить"),l.createElement("button",{onClick:a,className:_()("button")},"Отменить"))))}),v=t(693),f=t(435),g=function(e){var a=e.headers,t=e.rows,n=e.headerFilters,c=e.locale,r=e.domainPath,o=e.tableMeta,s=e.toggleModal,i=e.changeDeletedRowId;return l.createElement("table",{className:_()(v.Table)},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null),a.filter(n).map(function(e){return l.createElement("th",{key:e._id},e.name)}),l.createElement("th",{className:v.Table__actionColumn}))),l.createElement("tbody",null,t.map(function(e){return l.createElement("tr",{key:e._id},l.createElement("td",null,e._id),a.filter(n).map(function(a){var t=e.cells.find(function(e){return e.header._id===a._id});return l.createElement("td",{key:a._id},l.createElement(f.a,{cell:t,locale:c,notLocalized:a.notLocalized,isTableValue:!0}))}),l.createElement("td",null,l.createElement(u.b,{className:_()("iconButton","iconButton_edit"),to:r+"/"+o.name+"/rows/"+c.key+"/"+e._id}),l.createElement("button",{className:_()("iconButton","iconButton_warning","iconButton_delete"),onClick:function(){i(e._id),s(!0)}})))})))},E=t(694),N=function(e){var a=e.rows,t=e.headers,n=e.headerFilters,c=e.locale,r=e.domainPath,o=e.tableMeta,s=e.changeDeletedRowId,i=e.toggleModal;return l.createElement("div",{className:E.List},a.map(function(e){return l.createElement("div",{className:E.Item},t.filter(n).map(function(a){var t=e.cells.find(function(e){return e.header._id===a._id});return l.createElement("div",{className:E.Item__row},l.createElement("div",{className:E.Item__cellName},a.name),l.createElement("div",{className:E.Item__cellValue},l.createElement(f.a,{cell:t,locale:c,notLocalized:a.notLocalized,isTableValue:!0})))}),l.createElement("div",{className:E.Item__toolbar},l.createElement(u.b,{className:_()("iconButton","iconButton_edit"),to:r+"/"+o.name+"/rows/"+c.key+"/"+e._id}),l.createElement("button",{className:_()("iconButton","iconButton_warning","iconButton_delete"),onClick:function(){s(e._id),i(!0)}})))}))},p=function(){return(p=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var l in a=arguments[t])Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l]);return e}).apply(this,arguments)},T=function(e){e.headers,e.rows;var a,t,c=e.tableMeta,r=e.locale,o=e.domainPath,s=e.deleteRow,i=Object(l.useState)(!1),m=i[0],v=i[1],f=Object(l.useState)(null),E=f[0],T=f[1],h=Object(l.useState)("table"),k=h[0],M=h[1],j="table"===k?g:N;return l.createElement("div",{className:b.TableManager},l.createElement("div",{className:b.TableManager__toolbar},l.createElement(u.b,{to:o+"/"+c.name+"/rows/"+r.key+"/new",className:"button"},"Добавить запись"),l.createElement("div",{className:b.buttonGroup},l.createElement("button",{className:_()("button",b.button,(a={},a[b.button_active]="table"===k,a)),onClick:function(){return M("table")}},l.createElement("i",{className:"fas fa-table"})),l.createElement("button",{className:_()("button",b.button,(t={},t[b.button_active]="list"===k,t)),onClick:function(){return M("list")}},l.createElement("i",{className:"fas fa-bars"})))),l.createElement("div",{className:b.TableManager__table},l.createElement(j,p({headerFilters:function(e){return e.type!==n.IMAGE_GALLERY},toggleModal:v,changeDeletedRowId:T},e))),l.createElement(d,{isOpen:m,toggleModal:function(){return v(!m)},deleteRow:function(){s(E),v(!1)}}))},h=t(440),k=t(504),M=t(486),j=t(234);a.default=Object(r.g)(Object(c.b)(function(e,a){var t=a.match.params.tableName;return{tableName:t,headers:o.getTableHeaders(e,t),locales:j.b,rows:o.getTableRows(e,t),tableMeta:o.getTableMeta(e,t),taskStatuses:o.getAsyncTaskStatuses(e),domainPath:a.domainPath,isLoading:o.isLoadingTasks(e,[s.c,s.d])}})(function(e){var a=e.tableMeta,t=e.headers,n=e.rows,c=e.locales,r=e.domainPath,o=e.dispatch,s=e.tableName,i=(e.taskStatuses,e.isLoading);return Object(l.useEffect)(function(){o(Object(k.b)(s)),o(Object(k.d)(s))},[s]),l.createElement(M.a,{isLoading:i},function(){return l.createElement(h.a,{locales:c,renderLocaleTab:function(e){return l.createElement(T,{domainPath:r,tableMeta:a,headers:t,rows:n,deleteRow:function(e){return o(Object(k.a)(s,e))},locale:e})}})})}))}}]);
//# sourceMappingURL=20.bundle.js.map