(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{695:function(e,t,a){e.exports={Row:"Row___6pQfT",Row__backBtn:"Row__backBtn___2jt9w",Row__container:"Row__container___1kSkx",Row__toolbar:"Row__toolbar___2j2e0",Cell:"Cell___2iLFv",Cell__title:"Cell__title___11KMF",Cell__value:"Cell__value___1wEq8"}},755:function(e,t,a){"use strict";a.r(t);var n=a(442),l=a(9),o=a(504),c=a(33),r=a(0),i=a(435),u=a(486),s=a(695),_=a(234),b=a(43),d=function(){return(d=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},m=function(e,t){return t||{_id:void 0,cells:e?e.map(function(e){return{_id:void 0,header:e,value:""}}):[]}},f=function(e){e.tableName;var t=e.rowId,a=e.headers,n=e.row,l=(e.locale,e.goBack),o=e.getTableHeaders,c=e.getTableRow,f=e.localeItem,w=e.saveTableRow,v=e.updateTableRow,E=e.isLoading,k=Object(r.useState)(!1),R=k[0],p=k[1],g=Object(r.useState)(m(a,n)),O=g[0],C=g[1];Object(r.useEffect)(function(){o(),"new"!==t&&c()},[]),Object(r.useEffect)(function(){C(m(a,n))},[a,n]);var N=function(e,t,a){C(d({},n,{cells:O.cells.map(function(n){var l;if(n.header._id!==e)return n;var o=a?b.isObject(n.value)?d({},n.value,((l={})[a.key]=t,l)):_.b.reduce(function(e,a){var n;return d({},e,((n={})[a.key]=t,n))},{}):t;return d({},n,{value:o})})}))},T=function(){"new"===t?w(O):v(O),l()};return r.createElement(u.a,{isLoading:E},function(){return r.createElement("div",{className:s.Row},R?r.createElement("button",{className:s.Row__backBtn,onClick:function(){return p(!1)}},"К режиму просмотра"):r.createElement("button",{className:s.Row__backBtn,onClick:l},"Назад без сохранения"),r.createElement("div",{className:s.Row__container},a.map(function(e){var t=O&&O.cells.find(function(t){return t.header._id===e._id});return console.log("NOT LOCALIZED ROW",e),r.createElement("div",{key:e._id,className:s.Cell},r.createElement("div",{className:s.Cell__title},e.name),r.createElement("div",{className:s.Cell__value},t&&r.createElement(i.a,{cell:t,isEditMode:R,changeCell:N,notLocalized:e.notLocalized,locale:f})))}),r.createElement("div",{className:s.Row__toolbar},R?r.createElement("button",{onClick:T,className:"button"},"Сохранить"):r.createElement(r.Fragment,null,r.createElement("button",{onClick:function(){return p(!R)},className:"button"},"В режим редактирования"),r.createElement("button",{onClick:T,className:"button"},"Сохранить")))))})};t.default=Object(l.g)(Object(c.b)(function(e,t){var a=t.match.params,l=a.tableName,o=a.rowId,c=a.locale;return{tableName:l,rowId:o,headers:n.getTableHeaders(e,l),row:n.getTableRow(e,l,o),taskStatuses:n.getAsyncTaskStatuses(e),localeItem:_.b.find(function(e){return e.key===c}),isLoading:n.isLoadingTasks(e,["GET_TABLE_HEADERS_ACTION"])}},function(e,t){var a=t.match.params,n=a.tableName,l=a.rowId;return{getTableHeaders:function(){return e(Object(o.b)(n))},getTableRow:function(){return e(Object(o.c)(n,l))},saveTableRow:function(t){return e(Object(o.e)(n,t))},updateTableRow:function(t){return e(Object(o.f)(n,l,t))},goBack:function(){return t.history.push("/admin/tables/"+n)}}})(f))}}]);
//# sourceMappingURL=27.bundle.js.map